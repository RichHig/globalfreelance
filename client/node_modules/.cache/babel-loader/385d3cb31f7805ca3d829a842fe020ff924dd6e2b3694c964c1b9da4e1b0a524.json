{"ast":null,"code":"var _jsxFileName = \"/Users/rich/Desktop/globalfreelance/client/src/components/Reviews.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport newRequest from \"../utils/newRequest\";\nimport Review from './Review';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Reviews = _ref => {\n  _s();\n  let {\n    gigId\n  } = _ref;\n  const queryClient = useQueryClient();\n  const {\n    isLoading,\n    error,\n    data\n  } = useQuery({\n    queryKey: [\"reviews\"],\n    queryFn: () => newRequest.get(`/reviews/${gigId}`).then(res => {\n      return res.data;\n    })\n  });\n  const mutation = useMutation({\n    mutationFn: review => {\n      return newRequest.post(\"/reviews\", review);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries([\"reviews\"]);\n    }\n  });\n  const handleSubmit = e => {\n    e.preventDefault();\n    const desc = e.target[0].value;\n    const star = e.target[1].value;\n    mutation.mutate({\n      gigId,\n      desc,\n      star\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-[50px]\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Reviews\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this), isLoading ? \"loading\" : error ? \"Something went wrong!\" : data.map(review => /*#__PURE__*/_jsxDEV(Review, {\n      review: review\n    }, review._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 34\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-5 flex flex-col gap-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Add a review\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        action: \"\",\n        className: \"flex flex-col gap-5 border border-solid\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"write your opinion\",\n          className: \"p-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"w-[200px] p-5 self-end\",\n          name: \"\",\n          id: \"\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: 1,\n            children: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 2,\n            children: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 3,\n            children: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 4,\n            children: \"4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 5,\n            children: \"5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"self-end w-[100px] border-none p-3 text-white bg-[#1dbf73] cursor-pointer\",\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 7\n  }, this);\n};\n_s(Reviews, \"+BqfW7/Kidfbc26cB6LjTg3vrRc=\", false, function () {\n  return [useQueryClient, useQuery, useMutation];\n});\n_c = Reviews;\nexport default Reviews;\nvar _c;\n$RefreshReg$(_c, \"Reviews\");","map":{"version":3,"names":["React","useMutation","useQuery","useQueryClient","newRequest","Review","jsxDEV","_jsxDEV","Reviews","_ref","_s","gigId","queryClient","isLoading","error","data","queryKey","queryFn","get","then","res","mutation","mutationFn","review","post","onSuccess","invalidateQueries","handleSubmit","e","preventDefault","desc","target","value","star","mutate","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","_id","action","onSubmit","type","placeholder","name","id","_c","$RefreshReg$"],"sources":["/Users/rich/Desktop/globalfreelance/client/src/components/Reviews.jsx"],"sourcesContent":["import React from 'react'\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport newRequest from \"../utils/newRequest\"\nimport Review from './Review';\n\nconst Reviews = ({ gigId }) => {\n\n    const queryClient = useQueryClient()\n    const { isLoading, error, data } = useQuery({\n      queryKey: [\"reviews\"],\n      queryFn: () =>\n        newRequest.get(`/reviews/${gigId}`).then((res) => {\n          return res.data;\n        }),\n    });\n  \n    const mutation = useMutation({\n      mutationFn: (review) => {\n        return newRequest.post(\"/reviews\", review);\n      },\n      onSuccess:()=>{\n        queryClient.invalidateQueries([\"reviews\"])\n      }\n    });\n  \n    const handleSubmit = (e) => {\n      e.preventDefault();\n      const desc = e.target[0].value;\n      const star = e.target[1].value;\n      mutation.mutate({ gigId, desc, star });\n    };\n  \n    return (\n      <div className=\"mt-[50px]\">\n        <h2>Reviews</h2>\n        {isLoading\n          ? \"loading\"\n          : error\n          ? \"Something went wrong!\"\n          : data.map((review) => <Review key={review._id} review={review} />)}\n        <div className=\"mt-5 flex flex-col gap-5\">\n          <h3>Add a review</h3>\n          <form action=\"\" className=\"flex flex-col gap-5 border border-solid\" onSubmit={handleSubmit}>\n            <input type=\"text\" placeholder=\"write your opinion\" className='p-5' />\n            <select className='w-[200px] p-5 self-end' name=\"\" id=\"\">\n              <option value={1}>1</option>\n              <option value={2}>2</option>\n              <option value={3}>3</option>\n              <option value={4}>4</option>\n              <option value={5}>5</option>\n            </select>\n            <button className='self-end w-[100px] border-none p-3 text-white bg-[#1dbf73] cursor-pointer'>Send</button>\n          </form>\n        </div>\n      </div>\n    );\n  };\n\nexport default Reviews"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}